version: '3.9'

services:
  sqlserver2022:
    image: mcr.microsoft.com/mssql/server:2022-latest
    environment:
      SA_PASSWORD: PASSWORD
      ACCEPT_EULA: Y
      MSSQL_PID: Developer
      MSSQL_MEMORY_LIMIT_MB: 4096
      MSSQL_TLS_CERT: /etc/ssl/certs/server.crt
      MSSQL_TLS_KEY: /etc/ssl/private/server.key
      MSSQL_TLS_VERIFY: 0
    ports:
      - '1433:1433'
    volumes:
      - ./data-sqlserver2022:/var/opt/mssql/data
      - ./server.crt:/etc/ssl/certs/server.crt
      - ./server.key:/etc/ssl/private/server.key:ro

volumes:
  data-sqlserver2022:
